<!DOCTYPE html>
<!--
 * Copyright (c) 2012-2013, JCabi.com
 * All rights reserved.
 -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>requs - Requs Syntax</title>
        <link media="all" rel="stylesheet" type="text/css" href="./css/jcabi.css"/>
                    <meta name="author" content="Yegor Bugayenko" />
                            <script>
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-1963507-18']);
                _gaq.push(['_trackPageview']);
                (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();
            </script>
                                                                                                                
<link rel="shortcut icon" href="http://img.requs.org/favicon.gif"/>
                                            <link rel="stylesheet" href="./css/highlight.css" />
        <script src="./js/jquery-1.8.3.min.js"></script>
        <script src="./js/highlight-7.3.min.js"></script>
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"/>
        <link href="./css/jcabi.css" rel="stylesheet"/>
        <script>
            $(document).ready(
                function() {
                    $('div.source pre').each(
                        function (idx, element) {
                            hljs.highlightBlock(element);
                        }
                    );
                    $(".menu-button").click(
                        function() {
                            if ($("#here-goes-menu").attr("class") == "menu-off") {
                                $("#menu").clone().attr("class", "mobile-menu").appendTo("#here-goes-menu");
                                $("#here-goes-menu").attr("class", "menu-on");
                            } else {
                                $(".mobile-menu").hide();
                                $("#here-goes-menu").attr("class", "menu-off");
                            }
                        }
                    );
                }
            );
        </script>
    </head>
    <body>
                <div class="page">
            <div class="menu-section">
                <ul id="menu">
                                                                                    <li>
                            Overview
                                                            <ul>
                                                                                                    <li>
                                                                                    <a href="index.html" title="Introduction">Introduction</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                            <strong>                        <a href="syntax.html" title="Grammar">Grammar</a>
        </strong>
                                                                                                                                                                <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                                                    <a href="usage.html" title="Usage">Usage</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                                                    <a href="https://github.com/tpc2/requs/releases" title="Release History">Release History</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                        </ul>
                                                    </li>
                                            <li>
                            Modules
                                                            <ul>
                                                                                                    <li>
                                                                                    <a href="requs-reader/index.html" title="requs-reader">requs-reader</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                                                    <a href="requs-exec/index.html" title="requs-exec">requs-exec</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                                                    <a href="requs-demo/index.html" title="requs-demo">requs-demo</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                                                        <li>
                                                                                    <a href="requs-maven-plugin/index.html" title="requs-maven-plugin">requs-maven-plugin</a>
                                                                                                                                                                        <ul>
                                                                    </ul>
                                                    </li>
                                                                                        </ul>
                                                    </li>
                                            <li>
                            Project Documentation
                                                            <ul>
                                                                                                    <li>
                                                                                    <a href="project-info.html" title="Project Information">Project Information</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </li>
                                                                                                                        <li>
                                                                                    <a href="project-reports.html" title="Project Reports">Project Reports</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                        </ul>
                                                    </li>
                                    </ul>
            </div>
            <div id="right-side">
                <div id="content">
                    <i class="menu-button fa fa-align-justify"></i>
                    <div class="logo-section">
                        <a href="./" title="${decoration.bannerLeft.title}">
                            <img src="http://img.requs.org/logo.png"
                                alt="requs"
                                                                    width="64"
                                                                                                    height="64"
                                                            />
                        </a>
                    </div>
                    <div class="date">
                        <div class="date-numbers">
                            <strong>2.0-SNAPSHOT</strong>
                            
                            20-Mar-2014
                        </div>
                                                                            <div class="github">
                                <iframe
                                    class="github-large"
                                    src="http://ghbtns.com/github-btn.html?user=tpc2&amp;repo=requs&amp;type=watch&amp;count=true&amp;size=large"
                                    allowtransparency="true"
                                    frameborder="0"
                                    scrolling="0"
                                    width="170"
                                    height="30">
                                </iframe>
                                <iframe
                                    class="github-small"
                                    src="http://ghbtns.com/github-btn.html?user=tpc2&amp;repo=requs&amp;type=watch&amp;count=true&amp;size=small"
                                    allowtransparency="true"
                                    frameborder="0"
                                    scrolling="0"
                                    width="170"
                                    height="30">
                                </iframe>
                            </div>
                                            </div>
                    <div id="here-goes-menu" class="menu-off"></div>
                    <article>
                        <div class="section">
                            <!-- This source file is subject to the new BSD license that is bundled --><!-- with this package in the file LICENSE.txt. It is also available --><!-- through the world-wide-web at this URL: http://www.requs.org/LICENSE.txt --><!-- If you did not receive a copy of the license and are unable to --><!-- obtain it through the world-wide-web, please send an email --><!-- to license@requs.org so we can send you a copy immediately. --><!--  --><!-- THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS --><!-- "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT --><!-- LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS --><!-- FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE --><!-- COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, --><!-- INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, --><!-- BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS --><!-- OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED --><!-- AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, --><!-- OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT --><!-- OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY --><!-- OF SUCH DAMAGE. --><div class="section">
<h2>Requs Syntax<a name="Requs_Syntax"></a></h2>
<p><a class="externalLink" href="http://standards.ieee.org/reading/ieee/std_public/description/se/830-1998_desc.html">IEEE 830-1998</a> says: &quot;SRS (<i>software requirements specification</i>) should be correct, unambiguous, complete, consistent, ranked for importance and/or stability, verifiable, modifiable, traceable&quot;. Requs is enabling the creation of such documents in plain text format.</p>
<div class="section">
<h3>Quick Start<a name="Quick_Start"></a></h3>
<p>The scope definition document consists of <b>types</b> and <b>methods</b> (or use cases). For example, there are two types (<tt>Visitor</tt> and <tt>ImageFile</tt>) and one use case (<tt>UC3.2</tt>) defined in the snippet:</p>
<div class="source">
<pre>Visitor is an &quot;originator of HTTP request&quot;.
UC3.2 where User (a user) deletes photos:
  &quot;we will define it later...&quot;.
ImageFile includes: PNG content, name, and size.</pre></div>
<p>Everything inside double quotes is considered as informal content, which we take &quot;as is&quot;, without any attempt to understand what it means. You can double quote anything (except double quotes, of course), and you can place informal texts in any place of the document. They are ignored during formal Requs analysis.</p>
<p>Let's consider a bit bigger example of a type <tt>ImageFile</tt>:</p>
<div class="source">
<pre>ImageFile includes:
  PNG content as &quot;binary content as defined by ISO-15948&quot;,
  name as &quot;a unique alpha-numeric name of the image&quot;,
  size as &quot;total number of bytes in PNG content&quot;.</pre></div>
<p>The semantic is the same -- the type still contains three <b>slots</b> (<tt>PNG content</tt>, <tt>name</tt> and <tt>size</tt>). However in this example we have added an informal explanation to every one of them. An <tt>as</tt> keyword separates the name of the slot and its invariant. Pay attention to the dots, colons, semicolons and commas used above. Comma, semicolon and preposition <tt>and</tt> can replace each other. For example, the following declarations are semantically equivalent:</p>
<div class="source">
<pre>PNG content and name and size
PNG content, name, size
PNG content; name; and size</pre></div>
<p>By means of <tt>is</tt>/<tt>is a</tt> we enable a declaration of <b>invariants</b> on types. Invariant is a <b>predicate</b>, which is always true, no matter what happens with the system. In the example above it is always true that <tt>PNG content</tt> is a file with binary content (not a readable ASCII text). Nobody can break this invariant and put a textual information into this slot.</p>
<p>As you noticed, an invariant could be declared with an informal text, as we've done with <tt>size</tt>. Such a declaration means absolutely nothing and will be ignored. But it helps when you're starting to develop the scope document.</p>
<p>In general, <b>informal texts</b> play an important role during the initial development of a requirements document and during a preliminary system analysis. When you don't know for sure how to define the information you have in a strict format -- you should use informal texts. Later, when you have more information, you will replace them.</p>
<p>As you've already noticed, Requs is a case-insensitive language in all places except one -- type names should use <a class="externalLink" href="http://en.wikipedia.org/wiki/CamelCase">CamelCase Notation</a>. Thus, <tt>ImageFile</tt> is a valid type name, and <tt>imagefile</tt> is just an English word.</p>
<p>To put things together we should declare a use case, which is a step-by-step explanation of interaction between instances of types (so called <b>objects</b>), for example:</p>
<div class="source">
<pre>UC8.1 where User (a user) shares Image with User (a friend):
  1. The user creates Image (a photo).
  2. The user updates the friend &quot;selecting one of his contacts&quot;.
  3. We convert the photo &quot;to the right PNG format, 600x600 maximum&quot;.
  4. We notify the friend by email.
  5. The friend reads the photo &quot;in his own web page&quot;.
UC8.1/1 If &quot;the user exceeds the maximum possible number of photos&quot;:
  1. Failure &quot;photos limit exceeded&quot;.
UC8.1/3 If failed with &quot;invalid format&quot;:
  1. &quot;We notify user about the problem&quot;.
  2. Failure &quot;can't convert photo&quot;.</pre></div>
<p>First line in this example is a declaration of a use case, which number is <tt>UC8.1</tt>. The use case has a <b>signature</b>, which differentiates it from all other use cases. It is not the ID of the use case, but the signature, which is important. This concept is very similar to <a class="externalLink" href="http://en.wikipedia.org/wiki/Signature_(computer_science)">function signature</a> in programming. The signature of this use case is (types are in bold):</p>
<div class="source">
<pre>User shares Image with User</pre></div>
<p>In order to include this use case into another one we should use this signature, filling it with particular objects. Objects start with article <tt>the</tt> and on their first occurrence they appear in round brackets. In our use case there are three objects: <tt>the user</tt>, <tt>the friend</tt> and <tt>the photo</tt>. An object could be either received by a use case or created inside it. However, there is no grammar difference between objects received and objects created. We assume that an object is empty until anyone updates or creates it (more on this later).</p>
<p>There are seven <b>main flows</b> in this use case, and five <b>alternative flows</b>. Flows <tt>1</tt>, <tt>5</tt>, <tt>6</tt>, and <tt>7</tt> instruct us to include other use cases that match the signatures provided and pass them the objects we have. Let's see what these flows really tell us about:</p>
<div class="source">
<pre>1. User creates Image
  the user =&gt; User
  the photo =&gt; Image
5. SUD converts ImageFile
  the photo =&gt; ImageFile
6. SUD notifies ActorUser by email.
  the user =&gt; ActorUser
7. ActorUser reads ImageFile.
  the photo =&gt; ImageFile</pre></div>
<p>There are four use cases that our use case <tt>UC8.1</tt> includes. They have to be defined somewhere else in the document, otherwise the document would be invalid. But not all four are mandatory, because there is a number of <b>elementary use cases</b>, which are defined in the system, even if the document is empty. The elementary use cases are (<a class="externalLink" href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> requirements pattern):</p>
<div class="source">
<pre>Somebody creates something
Somebody reads something
Somebody updates something
Somebody deletes something
Something is something
Somebody turns into somebody</pre></div>
<p>As you understand, <tt>somebody</tt> means &quot;any actor&quot;, and <tt>something</tt> means &quot;object of any type&quot;. <tt>create</tt> means to make a new object. <tt>read</tt> means to read all and any slots of an object, and all their slots, etc. <tt>update</tt> means to change values of slots of an object. <tt>delete</tt> means to remove an object from a persistent storage.</p>
<p>With <tt>turns into</tt> elementary use case we convert one actor to another.</p>
<p>Thus, a valid flow either points us to another use case defined somewhere else in the document, or points us to an elementary use case, or points us nowhere with an informal text (<b>informal flow</b>).</p>
<p>Besides that, a flow might have a special instruction, which we've seen in alternative flow <tt>1a1</tt> and <tt>5a2</tt>. <tt>failure</tt> means that a use case should be stopped at this point and the reason of this termination is explained right after the word <tt>failure</tt> as an informal text.</p>
<p>Reason of failure is used by a parent use case, which included the current one. This is exactly what happens in <tt>5a</tt>. We are waiting for a failure from <tt>we convert the photo</tt>, and we're ready to accept a failure called <tt>invalid format</tt>. This approach is very similar to <a class="externalLink" href="http://en.wikipedia.org/wiki/Exception_handling">exception handling paradigm</a> in object-oriented languages.</p></div>
<div class="section">
<h3>Scope Ambiguity<a name="Scope_Ambiguity"></a></h3>
<p>There is only one metric that tells us everything about the entire scope definition document. The metric is called &quot;<b>scope ambiguity</b>&quot; and is calculated like:</p>
<div class="source">
<pre>A = S / (S + M)</pre></div>
<p><i>S</i> stands for a total number of all informal flows, and <i>M</i> is a total number of CRUD-manipulators. Thus, if <i>A</i> equals to 0, the document is absolutely non-ambiguous, which is an almost impossible situation. In real world projects the task of a system analyst is to move <i>A</i> from 1 to 0.</p></div>
<div class="section">
<h3>More Details on Use Cases<a name="More_Details_on_Use_Cases"></a></h3>
<p>This section contains a detailed review of a use cases defined above:</p>
<div class="source">
<pre>UC4 where ActorUser (the user) communicates:
  1. The user shares ImageFile with ActorUser.
  2. &quot;He can do other actions, not defined yet&quot;.
UC8.1 where ActorUser (the user) shares ImageFile
with ActorUser (the friend):
  1. The user creates ImageFile (the photo).
  2. The friend is friend of the user.
  3. We convert the photo &quot;to the right PNG format, 600x600 maximum&quot;.
  4. We notify the friend by email.
  5. The friend reads the photo &quot;in his own web page&quot;.
UC8.1 0a) If &quot;the user exceeds the maximum possible number of photos&quot;:
  1. Failure &quot;photos limit exceeded&quot;.
UC8.1 3a) If failed with &quot;invalid format&quot;:
  1. &quot;We notify user about the problem&quot;.
 2. Failure &quot;can't convert photo&quot;.</pre></div>
<p><tt>UC4 where ActorUser (the user) communicates:</tt> <tt>UC4</tt> is defined with a signature <tt><a name="a...">...</a> communicates</tt>, which is unique in the scope and explicitly identifies the use case. This signature has only one parameter that has to be of type <tt>ActorUser</tt>.</p>
<p><tt>1. The user shares ImageFile with ActorUser.</tt> First flow of the use case <tt>UC4</tt> points to another use case, which has to be found by signature <tt><a name="a...">...</a> shares <a name="a...">...</a> with <a name="a...">...</a></tt>, and types of parameters are <tt>ActorUser</tt>, <tt>ImageFile</tt> and <tt>ActorUser</tt>. This signature matches the signature of use case <tt>UC8.1</tt>.</p>
<p><tt>2. &quot;He can do other actions, not defined yet&quot;.</tt> This flow is informal and doesn't mean anything for the requs parser. It might mean something for the reader, but not for the software.</p>
<p><tt>UC8.1 where ActorUser (the user) shares ImageFile with ActorUser (the friend):</tt> The declaration of another use case <tt>UC8.1</tt> with a signature <tt><a name="a...">...</a> shares <a name="a...">...</a> with <a name="a...">...</a></tt> that exactly matches the first flow of <tt>UC4</tt>. The use case instantiates two objects: <tt>the user</tt> of type <tt>ActorUser</tt> and <tt>the friend</tt> of the same type. <tt>ImageFile</tt> (the second parameter of the use case) does not instantiate anything, and it means that <tt>UC4</tt>, which is calling <tt>UC8.1</tt>, won't be able to retrieve the <tt>ImageFile</tt> created/managed here.</p>
<p><tt>1. The user creates ImageFile (the photo).</tt> The first flow of this use case points to an elementary use case <tt><a name="a...">...</a> creates <a name="a...">...</a></tt>. Two parameters of this elementary use case have to be provided, and they are: <tt>the user</tt> and <tt>the photo</tt>. It is assumed that <tt>the user</tt> was instantiated before and is not <tt>NULL</tt>, and <tt>the photo</tt> will be instantiated in this elementary use case. <tt>The photo</tt> was just declared in this flow and it means that it's <tt>NULL</tt> so far. <tt>The user</tt> was passed as a parameter to this use case and there is no information about its status, whether it is <tt>NULL</tt> or not. If it is <tt>NULL</tt> (not instantiated yet) -- it is an error and it will be found by requs parser and reported.</p>
<p><tt>2. The friend is one of friend of the user.</tt> Explicit instantiation of the variable happens here. <tt>Friend of the user</tt> is a slot in <tt>the user</tt> and</p></div></div>
                        </div>
                    </article>
                    <img class="maven-mobile" src="./images/built-by-maven.png"
                        alt="built by maven" style="float:right" width="80"/>
                </div>
                <div class="legal-notes">
                    <div class="copyright">
                        Copyright &#169;
                                                                            2009-2014
                                                <br/>
                        requs.org, All Rights Reserved.
                        <br/>
                        <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
